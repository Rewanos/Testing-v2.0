$(function(){$("a[href='#callback']").magnificPopup({mainClass:"my-mfp-zoom-in",removalDelay:300,type:"inline"}),$(document).ready(function(){$.getJSON("https://codeit.pro/frontTestTask/company/getList",function(e){$(".ms-list").append("<li>"+e.list.length)})}),$(document).ready(function(){$.getJSON("https://codeit.pro/frontTestTask/company/getList",function(e){for(var t=0;t<e.list.length;t++){var a=e.list[t];$(".companies").append('<li id="'+a.name+'" >'+a.name+"<ul></ul>"),$(".partners-block").append('<li id="'+a.name+'"><ul class="block_part"></ul></li>');for(var n=0;n<a.partners.length;n++){var s=a.partners[n];$(".partners-block li#"+a.name).find("ul").append("<li><span>"+s.name+"</span> "+s.value+"%")}}}),$(".companies").on("click","li",function(){var e=$(this).attr("id");$(".partners-block li").removeClass("active"),$(".partners-block li#"+e).addClass("active"),$(".partners-wrapper, .partners-block").slideDown()})});var e=document.getElementById("myChart").getContext("2d");new Chart(e,{type:"pie",data:{labels:["Germany","Norway","Ukraine","Sweden","United States","Poland"],datasets:[{data:[3,4,18,18,23,34],backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:2}],options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}});$(document).ready(function(){$.getJSON("https://codeit.pro/frontTestTask/news/getList",function(e){for(var t=0;t<e.list.length;t++){var a=e.list[t],n=new Date(1e3*a.date),s=n.getDate(),r=n.getMonth();s<=9&&(s="0"+s),r<=9&&(r="0"+r);var i=s+"."+r+"."+n.getFullYear();console.log(a),$(".news-block .swiper-wrapper").append('<div class="swiper-slide"><img class="news-image" src="'+a.img+'"><h1 class="title"><a href="codeit.com.ua">'+a.link+'</a></h1> <p class="news-text">'+a.description+'</p><span class="news-author"><strong>Автор:</strong> '+a.author+'</span><p><span class="news-date"><strong>Дата:</strong> '+i+"</span></p></div>")}}).done(function(){$(".news-text").each(function(){newsText=$(this).text(),newsText.length>90&&$(this).text(newsText.slice(0,90)+" ...")});new Swiper(".swiper-container",{direction:"horizontal",loop:!0,speed:600,pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})})}),$("form").submit(function(){var e=$(this);return $.ajax({type:"POST",url:"mail.php",data:e.serialize()}).done(function(){$(".contact-form .success").addClass("active"),setTimeout(function(){$(".contact-form .success").removeClass("active"),e.trigger("reset"),$.magnificPopup.close()},1e3)}),!1})});